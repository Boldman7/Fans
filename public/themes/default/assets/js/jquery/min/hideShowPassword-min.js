!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function($,t){function e(t,e){this.element=$(t),this.wrapperElement=$(),this.toggleElement=$(),this.init(e)}var s="plugin_hideShowPassword",o=["show","innerToggle"],i=32,n=13,h=function(){var t=document.body,e=document.createElement("input"),s=!0;t||(t=document.createElement("body")),e=t.appendChild(e);try{e.setAttribute("type","text")}catch(o){s=!1}return t.removeChild(e),s}(),a={show:"infer",innerToggle:!1,enable:h,className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"==typeof Modernizr?!1:Modernizr.touchevents,attachToEvent:"click.hideShowPassword",attachToTouchEvent:"touchstart.hideShowPassword mousedown.hideShowPassword",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",title:"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true",title:"Hide Password"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false",title:"Show Password"}}}}};e.prototype={init:function(t){this.update(t,a)&&(this.element.addClass(this.options.className),this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),"string"==typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,$.proxy(function(){this.toggleElement.show()},this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(t,e){return this.options=this.prepareOptions(t,e),this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]),this.options.enable},toggle:function(t){return t=t||"toggle",this.update({show:t})},prepareOptions:function(t,e){var s=t||{},o=[],h;if(e=e||this.options,t=$.extend(!0,{},e,t),s.hasOwnProperty("wrapper")&&s.wrapper.hasOwnProperty("inheritStyles")&&(t.wrapper.inheritStyles=s.wrapper.inheritStyles),t.enable&&("toggle"===t.show?t.show=this.isType("hidden",t.states):"infer"===t.show&&(t.show=this.isType("shown",t.states)),"infer"===t.toggle.position&&(t.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!$.isArray(t.toggle.attachToKeyCodes))){if(t.toggle.attachToKeyCodes===!0)switch(h=$(t.toggle.element),h.prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(h.filter("[href]").length){o.push(i);break}default:o.push(i,n)}t.toggle.attachToKeyCodes=o}return t},updateElement:function(){return!this.options.enable||this.isType()?!1:(this.element.prop($.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className),this.updateToggle(),!0)},isType:function(e,s){return s=s||this.options.states,e=e||this.state(t,t,s).props.type,s[e]&&(e=s[e].props.type),this.element.prop("type")===e},state:function(e,s,o){return o=o||this.options.states,e===t&&(e=this.options.show),"boolean"==typeof e&&(e=e?"shown":"hidden"),s&&(e="shown"===e?"hidden":"shown"),o[e]},otherState:function(t){return this.state(t,!0)},wrapElement:function(t){var e=t.enforceWidth,s;return this.wrapperElement.length||(s=this.element.outerWidth(),$.each(t.inheritStyles,$.proxy(function(e,s){t.styles[s]=this.element.css(s)},this)),this.element.css(t.innerElementStyles).wrap($(t.element).addClass(t.className).css(t.styles)),this.wrapperElement=this.element.parent(),e===!0&&(e=this.wrapperElement.outerWidth()===s?!1:s),e!==!1&&this.wrapperElement.css("width",e)),this.wrapperElement},initToggle:function(t){return this.toggleElement.length||(this.toggleElement=$(t.element).attr(t.attr).addClass(t.className).css(t.styles).appendTo(this.wrapperElement),this.updateToggle(),this.positionToggle(t.position,t.verticalAlign,t.offset),t.touchSupport?(this.toggleElement.css(t.touchStyles),this.element.on(t.attachToTouchEvent,$.proxy(this.toggleTouchEvent,this))):this.toggleElement.on(t.attachToEvent,$.proxy(this.toggleEvent,this)),t.attachToKeyCodes.length&&this.toggleElement.on(t.attachToKeyEvent,$.proxy(this.toggleKeyEvent,this))),this.toggleElement},positionToggle:function(t,e,s){var o={};switch(o[t]=s,e){case"top":case"bottom":o[e]=s;break;case"middle":o.top="50%",o.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(o)},updateToggle:function(t,e){var s,o;return this.toggleElement.length&&(s="padding-"+this.options.toggle.position,t=t||this.state().toggle,e=e||this.otherState().toggle,this.toggleElement.attr(t.attr).addClass(t.className).removeClass(e.className).html(t.content),o=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(s)!==o&&this.element.css(s,o)),this.toggleElement},toggleEvent:function(t){t.preventDefault(),this.toggle()},toggleKeyEvent:function(t){$.each(this.options.toggle.attachToKeyCodes,$.proxy(function(e,s){return t.which===s?(this.toggleEvent(t),!1):void 0},this))},toggleTouchEvent:function(t){var e=this.toggleElement.offset().left,s,o,i;e&&(s=t.pageX||t.originalEvent.pageX,"left"===this.options.toggle.position?(e+=this.toggleElement.outerWidth(),o=s,i=e):(o=e,i=s),i>=o&&this.toggleEvent(t))}},$.fn.hideShowPassword=function(){var t={};return $.each(arguments,function(e,s){var i={};if("object"==typeof s)i=s;else{if(!o[e])return!1;i[o[e]]=s}$.extend(!0,t,i)}),this.each(function(){var o=$(this),i=o.data(s);i?i.update(t):o.data(s,new e(this,t))})},$.each({show:!0,hide:!1,toggle:"toggle"},function(t,e){$.fn[t+"Password"]=function(t,s){return this.hideShowPassword(e,t,s)}})});